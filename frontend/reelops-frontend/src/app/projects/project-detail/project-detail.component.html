<div class="page">
  <h2>{{ isEditMode ? 'Edit Project' : 'New Project' }}</h2>

  <div *ngIf="loading">Loading project...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <form (ngSubmit)="onSubmit()" *ngIf="!loading">
    <div class="form-group">
      <label>Title</label>
      <input
        type="text"
        [(ngModel)]="project.title"
        name="title"
        required
        placeholder="Project title"
      />
    </div>

    <div class="form-group">
      <label>Description</label>
      <textarea
        [(ngModel)]="project.description"
        name="description"
        rows="3"
        placeholder="Brief description"
      ></textarea>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label>Status</label>
        <select [(ngModel)]="project.status" name="status" required>
          <option *ngFor="let s of statuses" [value]="s">
            {{ s }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label>Budget (total)</label>
        <input
          type="number"
          [(ngModel)]="project.budget_total"
          name="budget_total"
          min="0"
        />
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label>Start date</label>
        <input
          type="date"
          [(ngModel)]="project.start_date"
          name="start_date"
        />
      </div>

      <div class="form-group">
        <label>End date</label>
        <input type="date" [(ngModel)]="project.end_date" name="end_date" />
      </div>
    </div>

    <button type="submit" [disabled]="saving">
      {{ saving ? 'Saving...' : (isEditMode ? 'Update Project' : 'Create Project') }}
    </button>
  </form>
</div>
